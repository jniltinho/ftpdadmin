<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>FTPD Admin</title>
    <link rel="stylesheet" type="text/css" media="screen" href="/static/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="/static/bootstrap/css/bootstrap-sortable.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="/static/bootstrap/css/bootstrap-multiselect.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="/static/css/admin.css" />
    <script src="/static/js/htmx.min.js"></script>
  </head>

  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="/home">FTPD Admin</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li><a href="/groups">Groups</a></li>
                <li><a href="/users">Users</a></li>
                <li><a href="/add_group">Add Group</a></li>
                <li><a href="/add_user">Add User</a></li>
                <li><a href="/logout">Logout</a></li>
            </ul>
        </div><!-- /.navbar-collapse -->
      </div>
    </nav>

    <div class="container">
      <div class="row">
<div class="col-xs-12 col-sm-8 col-md-6 center">
</div>



<div class="col-sm-16">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">Users</h3>
    </div>
    <div class="panel-body">
      <div class="row">
        <div class="col-sm-16">
                    <!-- User table -->
          <div class="form-group">
            <table class="table table-striped table-condensed sortable">
              <thead>
                <th>UID</th>
                <th><span class="glyphicon glyphicon-user" aria-hidden="true" title="User name"></th>
                <th><span class="glyphicon glyphicon-tag" aria-hidden="true" title="Main group"></th>
                <th class="hidden-xs hidden-sm" data-defaultsort="disabled"><span class="glyphicon glyphicon-tags" aria-hidden="true" title="Additional groups"></th>
                <th class="hidden-xs hidden-sm hidden-md" style="width: 150px;">Last login <span class="glyphicon glyphicon-time" aria-hidden="true" title="Last login"></th>
                <th class="hidden-xs hidden-sm hidden-md" style="width: 150px;">Expiry Date <span class="glyphicon glyphicon-time" aria-hidden="true" title="Expiry Date"></th>
                <th class="hidden-xs hidden-sm"><span class="glyphicon glyphicon-list-alt" aria-hidden="true" title="Login count"></th>
                <th class="hidden-xs"><span class="glyphicon glyphicon-signal" aria-hidden="true" title="Uploaded MBs"><span class="glyphicon glyphicon-arrow-up" aria-hidden="true" title="Uploaded MBs"></th>
                <th class="hidden-xs"><span class="glyphicon glyphicon-signal" aria-hidden="true" title="Downloaded MBs"><span class="glyphicon glyphicon-arrow-down" aria-hidden="true" title="Downloaded MBs"></th>
                <th class="hidden-xs"><span class="glyphicon glyphicon-file" aria-hidden="true" title="Uploaded files"><span class="glyphicon glyphicon-arrow-up" aria-hidden="true" title="Uploaded files"></th>
                <th class="hidden-xs"><span class="glyphicon glyphicon-file" aria-hidden="true" title="Downloaded files"><span class="glyphicon glyphicon-arrow-down" aria-hidden="true" title="Downloaded files"></th>
                <th class="hidden-xs hidden-sm"><span class="glyphicon glyphicon-home" aria-hidden="true" title="Home directory"></th>
                <th class="hidden-xs hidden-sm"><span class="glyphicon glyphicon-envelope" aria-hidden="true" title="E-mail"></th>
                <th><span class="glyphicon glyphicon-lock" aria-hidden="true" title="Suspended"></th>
                <th data-defaultsort="disabled"></th>
              </thead>
              <tbody>

                <body>
                {{range .User}}
                    <tr>
                    <td class="pull-middle">{{.UID}}</td>
                    <td class="pull-middle"><a href="edit_user/action=show&id=1">{{.Userid}}</a></td>
                    <td class="pull-middle">{{.Groupname}}</td>
                    <td class="pull-middle hidden-xs hidden-sm">none</td>
                    <td class="pull-middle hidden-xs hidden-sm hidden-md">{{formatTime .LastLogin}}</td>
                    <td class="pull-middle hidden-xs hidden-sm hidden-md">{{formatTime .Expiration}}</td>
                    <td class="pull-middle hidden-xs hidden-sm">{{.LoginCount}}</td>
                    <td class="pull-middle hidden-xs">{{bytesToMB .BytesInUsed}}</td>
                    <td class="pull-middle hidden-xs">0.0</td>
                    <td class="pull-middle hidden-xs">0</td>
                    <td class="pull-middle hidden-xs">0</td>
                    <td class="pull-middle hidden-xs hidden-sm">{{.Homedir}}</td>
                    <td class="pull-middle hidden-xs hidden-sm">{{.Email}}</td>
                    <td class="pull-middle">{{userDisabled .Disabled}}</td>
                    <td class="pull-middle">
                      <div class="btn-toolbar pull-right" role="toolbar">
                        <a class="btn-group" role="group" href="edit_user/action=show&id=1"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
                        <a class="btn-group" role="group" href="remove_user/action=remove&id=1"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a>
                      </div>
                    </td>
                  </tr>
                  {{end}}
                    </tbody>
            </table>
          </div>
          <!-- Actions -->
          <div class="form-group">
            <a class="btn btn-primary pull-right" href="add_user.php" role="button">Add user &raquo;</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

      </div><!-- /.row -->

      <hr/>
      <footer>
        <center>
            <p style="font-size:x-small">FTPD Admin 0.0.1 <a href="https://github.com/jniltinho/ftpdadmin">github.com/jniltinho/ftpdadmin</a> for more information.</p>
        </center>
    </footer>
    </div> <!-- /container -->

    <script src="/static/bootstrap/js/jquery.min.js"></script>
    <script src="/static/bootstrap/js/bootstrap.min.js"></script>
    <script src="/static/bootstrap/js/jqBootstrapValidation.js"></script>
    <script src="/static/bootstrap/js/moment.min.js"></script>
    <script src="/static/bootstrap/js/bootstrap-sortable.js"></script>
    <script src="/static/bootstrap/js/bootstrap-multiselect.js"></script>
    <script src="/static/bootstrap/js/bootstrap-datetimepicker.js"></script>

    <script type="text/javascript">
      $(function () {
        $('#expiration').datetimepicker({
        useCurrent : false,
        showClear: true,
        format:'YYYY-MM-DD HH:mm:00',
	minDate: 'now',
            defaultDate: moment('2024-01-18 20:05:01',"YYYY-MM-DD HH:mm:00"),
    
        });
      });
    </script>

    <script>
      $(function () {
        $("input,select,textarea").not("[type=submit]").jqBootstrapValidation();
        $(".multiselect").multiselect({
          nonSelectedText: 'None selected',
          inheritClass: true,
          buttonWidth: '100%',
          includeSelectAllOption: true,
          enableFiltering: true,
        });
      } );
    </script>

  </body>
</html>
